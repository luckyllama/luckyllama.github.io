@import (inline) "vendor/github.css";
@import (inline) "vendor/bootstrap.css";
@import (inline) "fonts/font-awesome.css";
@import "vars";
@import "projects/sorting";
@import "projects/barrier-grid";

.max-size {
	width: 100%;
	max-width: 960px;
	margin: 0 auto;
	padding: 0 40px;
}
.standard-size {
	width: 100%;
	max-width: 780px;
	margin-left: auto; margin-right: auto;
	padding: 0 40px;
}
.playdown {
	font-size: .9em;
	font-style: italic;
	color: @brown;
}

@black: #262626;
@white: #fff;
// http://coolors.co/app/50514f-c6c5b9-cee0dc-f25f5c-247ba0
@red: #f25f5c;
@blue: #247ba0;
@brown: #50514f;
@tan: #c6c5B9;
@tan-alt: #edeec9;

.serif { font-family: "freight-text-pro", serif; }
.sans-serif { font-family: "sofia-pro", sans-serif; }

body {
	.serif;
	color: @black;
	font-size: 20px;
	line-height: 1.45;
}

p { margin-bottom: 1.3em; }

h1, h2, h3, h4, h5, h6 {
	.sans-serif;
}
h1, h2, h3, h4 {
  margin: 1em 0 0.1em;
  font-weight: 900;
  line-height: 1.1;
}

h1 {
	margin-top: 0;
	font-size: 2.369em;
}
h2 { font-size: 1.777em; font-weight: 700; letter-spacing: .02em; }
h3 { font-size: 1.333em; font-weight: 700; letter-spacing: .02em; }
h4 { font-size: 1.0em; font-weight: 700; letter-spacing: .02em; }
small { font-size: 0.75em; }
h2 small, h3 small { font-size: 0.7em; color: @black; }

header.main {
	position: fixed;
	.sans-serif;
	font-weight: 700;

	> a {
		color: @red;
		display: block;
		float: left;
		font-size: 1.333em;
		line-height: 1;
		padding: 0.2em 0.3em 0.15em;
		letter-spacing: .08em;
		text-decoration: none;
		text-transform: uppercase;
		transition: all .3s;
		border: solid 4px transparent;
		height: 1.75em;
		span { display: inline-block; }

		&:hover {
			text-decoration: none;
			background: @red;
			color: @white !important;
		}
		&:focus { outline: none; text-decoration: none; color: @red; }
	}
	.menu {
		border-color: @red;
		background: @white;
		z-index: 10;
		.is-open { display: none; }
		.menu-open & {
			span { display: none; }
			span.is-open { display: inline; }
		}
	}
	.logo {
		margin: 0;
		background: @red;
		color: @white;

		span {
			overflow: hidden;
			&:first-child { max-width: 0.6em; padding-right: 0.4em; }
			&:last-child { max-width: 0.7em; }
			transition: max-width .3s;
		}
		&:hover span:first-child { max-width: 4.0em; }
		&:hover span:last-child { max-width: 4.6em; }
	}

	nav {
		position: absolute;
		top: 0;
		left: 0;
		width: 300px;
		.sans-serif;
		font-weight: 700;
		color: @white;
		z-index: -1;

		transform: translate3d(-300px, 0, 0);
		transition: transform .3s;
		.menu-open & {
			transform: translate3d(0,0,0);
		}

		a {
			color: @white;
			background: @red;
			display: inline-block;
			padding: 0.3em 1.3em;
			text-transform: uppercase;
		}
		ul {
			margin: 53px 0 0;
			padding: 0;
			list-style: none;
			li {
				margin: .3em 0;
				a {
					&.active { background: @brown; color: @white; }
					&.active:hover { text-decoration: none; }
				}
			}
		}
	}
}

.hero {
	img {
		display: block;
		margin: 0 auto;
		max-width: 100%;
	}
	.image-credit {
		display: block;
		width: 40em;
		margin: 0 auto 1.5em;
		text-align: right;
		color: @brown;
		font-style: italic;
		a { color: @brown; }
	}
	margin-bottom: 1.3em;
}
.no-hero {
	min-height: 1.33em;
}

main {
	padding-bottom: 2.827em;

	a {
		color: @black;
		display: inline-block;
		box-shadow: inset 0 -.2em 0 fade(@blue, 100%);
		line-height: 1.3;
		display: inline-block;
		transition: box-shadow .2s;
	}
	a:hover {
		color: @black;
		text-decoration: none;
		box-shadow: inset 0 -1.3em 0 fade(@blue, 25%);
	}
	hr {
		max-width: 10em !important;
		border-top-color: @blue;
		margin: 1.777em auto;
	}
	hr:last-child { display: none; }

	.article-list {
		article {
			.standard-size;
			overflow: hidden;
			> * { padding: 0; }
			h3 a { box-shadow: none; }
			h3 a:hover { box-shadow: none; }
			.posted { .playdown; }
			img { display: block; margin-top: 1em; width: 100%; }
			> * { width: auto; max-width: none; }
			p { margin-top: 1.3em; }
			.more {
				.sans-serif;
				text-transform: uppercase;
				padding: 0 0.3em 0.1em;
				box-shadow: inset 0 -.2em 0 @blue;
				&:hover { box-shadow: inset 0 -1.4em 0 fade(@blue, 25%); }
				float: right;
			}
		}
	}

	article {
		> * { .standard-size; }

		img {
			max-width: 100%;
			margin: 0 auto;
			display: block;
		}
		table {
			width:100%;
			margin: 1.625rem auto;
			table-layout: fixed;
		}
		figure {
			margin: 0 auto 1.625rem;
			figcaption {
				.playdown;
				margin-top: 0.3em;
			}
		}
		iframe { border: none; }
		ul { margin-bottom: 1.3em; }
		footer {
			.playdown;
			overflow: hidden;
			div { float: left; }
			div + div { margin-left: 2em; }
		}
	}
}

body > footer {
	padding: 2.827em 0;
	background: @brown;
	color: @white;
	border-top: 4px solid @tan;

	.author-info {
		.max-size;
		overflow: hidden;
		box-sizing: content-box;

		.bio-photo {
			width: 90px;
			margin-right: 30px;
			float: left;
		}
		.links {
			float: left;
			max-width: 840px;
			h2 { margin-top: 0; font-weight: 400; }
		}
		a {
			display: inline-block;
			margin-right: 1em;
			color: @white;
		}
	}
	small {
		display: block;
		.max-size;
		text-align: right;
		box-sizing: content-box;
		hr { border-top-color: @tan; }
	}
}

.author-social {
	&:hover {
		transform: none;
		text-decoration: underline;
	}
	.fa { margin-right: 8px; }
}

.video-wrapper {
	width: 100%;
	position: relative;
	padding-bottom: 60%;
	iframe {
		position: absolute;
		width: 100%;
		height: 100%;
	}
}
.small-screen-warning { display: none; }

@import "responsive";
